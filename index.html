<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <!-- CSS -->
    <link rel="stylesheet" href="https://cloud.webtype.com/css/d4767ecb-457a-4677-8761-72f890add836.css"/>
    <link rel="stylesheet" href="https://cdn.knightlab.com/libs/orangeline/latest/css/orangeline.min.css"/>
    <!-- /CSS -->


    <!-- FAVICONS -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.knightlab.com/libs/orangeline/latest/assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="https://cdn.knightlab.com/libs/orangeline/latest/assets/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://cdn.knightlab.com/libs/orangeline/latest/assets/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="https://cdn.knightlab.com/libs/orangeline/latest/assets/favicons/manifest.json">
    <link rel="mask-icon" href="https://cdn.knightlab.com/libs/orangeline/latest/assets/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">
    <!-- /FAVICONS -->


    <title>VideoJam</title>
    <!-- Meta -->
    <meta name="keywords" content="Keywords, separated, by, commas">
    <meta name="description" content="VideoJam Desktop Client">
    <!-- /Meta -->

    <!-- Open Graph -->
    <meta property="og:type" content="article" />
    <meta property="og:title" content="VideoJam" />
    <meta property="og:description" content="VideoJam Desktop Client" />
    <meta property="og:image" content="LINK TO THE IMAGE FILE" />
    <meta property="og:url" content="PERMALINK" />
    <meta property="og:site_name" content="SITE NAME" />
    <!-- /Open Graph -->

    <!-- Twitter Card -->
    <meta name="twitter:title" content="VideoJam">
    <meta name="twitter:description" content="VideoJam Desktop Client">
    <meta name="twitter:image" content="LINK TO IMAGE">
    <meta name="twitter:site" content="@knightlab">
    <meta name="twitter:creator" content="@your_twitter_handle">
    <!-- /Twitter Card -->

    <script src="https://cdn.knightlab.com/libs/orangeline/latest/js/main.js"></script>
  </head>
  <body>
    <!-- All of the Node.js APIs are available in this renderer process. -->
    <div id="app">
      Loading...
      <!-- <script src="./bundle/renderer.bundle.js"></script> -->
    </div>
    <div id="test">
      <div id="msgs">results of this experiment will go here:</div>
    </div>
  </body>

  <script>
   //  // var fs = require('file-system');
   //  // fs.recurse('/Users/mwhitely/desktop/knight-lab/2017-2018/jam/electron-quick-start',
   //  // function(filepath, relative, filename){
   //  //   document.getElementById("results").append(filename);
   //  // });
   //  var fluent_ffmpeg = require('fluent-ffmpeg');
   //  var ffmpegPath  = require("./config.js").ffmpegPath;
   //  var ffprobePath = require("./config.js").ffprobePath;
   //  const path = require('path');
   //
   //  fluent_ffmpeg.setFfmpegPath(ffmpegPath);
   //  fluent_ffmpeg.setFfprobePath(ffprobePath);
   //
   //  //initialize global variables
   //  var mergedVideo = fluent_ffmpeg();
   //
   //  var vid1 = document.getElementById("v1");
   //  var vid2 = document.getElementById("v2");
   //  var makeVidBtn = document.getElementById("concat");
   //
   //  // vid1.onchange = console.log(vid1);
   //  //
   //  // makeVidBtn.onClick = console.log("You clicked")
   //  // makeVidBtn.onclick = concatVidClips();
   //
   //  function concatVidClips() {
  	// 	var outPath = path.join(__dirname, 'out.mp4');
  	// 	var msgArea = document.getElementById("msgs");
   //
  	// 	var proc = fluent_ffmpeg(vid1.files[0].path)
  	//     .input(vid2.files[0].path)
  	// 		.on('progress', function(progress) {
   //  			// console.log('Processing: ' + progress.percent + '% done');
  	// 			msgArea.innerHTML += 'Processing: ' + progress.percent + '% done\n';
  	// 		})
  	//     .on('end', function() {
  	//       console.log('files have been merged succesfully');
  	// 			msgArea.innerHTML += 'files have been merged succesfully';
  	//     })
  	//     .on('error', function(err) {
  	//       console.log('an error happened: ' + err.message);
  	// 			msgArea.innerHTML += 'an error happened: ' + err.message;
  	//     })
  	//     .mergeToFile(outPath);
	 // }

  </script>

  <script>
    // You can also require other files to run in this process
    // install babel hooks in the main process

    var bundlePath = './bundle/renderer.bundle.js';

    if(typeof process !== 'undefined' && process.env.NODE_ENV === 'DEV') {
	   const port = process.env.PORT || 8080;
      bundlePath = `http://127.0.0.1:${port}/bundle/renderer.bundle.js`;
      var bundleScriptEl = document.createElement('script');
      bundleScriptEl.src = bundlePath;
      bundleScriptEl.async = true;
      document.currentScript.parentNode.insertBefore(bundleScriptEl, document.currentScript);
    } else {
      require(bundlePath);
    }
  </script>
  <script>
    if (process && process.env.NODE_ENV === 'DEV') {
      document.title += ' (DEV MODE)';
    }
  </script>
</html>
